(self["webpackChunkkeyboard_driver"]=self["webpackChunkkeyboard_driver"]||[]).push([[6285,7924,4624,1315],{42178:function(e,t,i){t=e.exports=i(54765)(!1),t.push([e.id,"\n.vue-zoomer[data-v-43d84498] {\r\n  overflow: hidden;\n}\n.zoomer[data-v-43d84498] {\r\n  transform-origin: 50% 50%;\r\n  width: 100%;\r\n  height: 100%;\n}\n.zoomer > img[data-v-43d84498] {\r\n  /* remove the 4px gap below the image */\r\n  vertical-align: top;\r\n  user-drag: none;\r\n  -webkit-user-drag: none;\r\n  -moz-user-drag: none;\n}\r\n",""])},62458:function(e,t,i){t=e.exports=i(54765)(!1),t.push([e.id,"\n.device {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  z-index: 2;\r\n  margin: 0 auto;\r\n  /* display: flex;\r\n  flex-direction: column; */\r\n  /* aspect-ratio:  auto 1 / 1; */\r\n  /* flex-basis: ;\r\n  flex-grow: ;\r\n  flex-shrink: ; */\r\n  /* zoom: 80%; */\n}\r\n\r\n/* @media only screen and (min-height: 750px) and (max-height: 750px) {\r\n  .device {\r\n    width: 100%;\r\n    height: 100%;\r\n    zoom: 80%;\r\n  }\r\n}\r\n\r\n@media only screen and (min-height: 768px) and (max-height: 768px) {\r\n  .device {\r\n    width: 100%;\r\n    height: 100%;\r\n    zoom: 80%;\r\n  }\r\n}\r\n@media only screen and (min-height: 900px) and (max-height: 900px) {\r\n  .device {\r\n    width: 100%;\r\n    height: 100%;\r\n    zoom: 100%;\r\n  }\r\n} */\n.device-keystate {\r\n  position: absolute;\r\n  z-index: 1;\n}\n.device .device-panel {\r\n  position: absolute;\r\n  z-index: 0;\n}\n.device .device-keycap {\r\n  position: absolute;\r\n  z-index: 1;\n}\n.device .device-outline {\r\n  width: 100%;\r\n  position: absolute;\r\n  z-index: -1;\r\n  -webkit-animation-timing-function: ease-in-out;\r\n  -webkit-animation-name: device-outline;\r\n  -webkit-animation-duration: 1000ms;\r\n  -webkit-animation-iteration-count: infinite;\r\n  -webkit-animation-direction: alternate;\n}\n.device-fn {\r\n  position: absolute;\r\n  z-index: 11;\r\n  cursor: pointer;\n}\n.device-fn.active {\r\n  border: 2px solid #f00;\r\n  border-radius: 0.4rem;\r\n  box-shadow: inset 0 0 10px 10px rgba(0, 194, 255, 0.6);\n}\n@-webkit-keyframes device-outline {\n0% {\r\n    -webkit-filter: opacity(0.2);\r\n    transfrom: scale(0.4);\n}\n100% {\r\n    -webkit-filter: opacity(1);\r\n    transfrom: scale(1.2);\n}\n}\n@keyframes device-outline {\n0% {\r\n    -webkit-filter: opacity(0.2);\r\n    transfrom: scale(0.4);\n}\n100% {\r\n    -webkit-filter: opacity(1);\r\n    transfrom: scale(1.2);\n}\n}\n.device-light {\r\n  position: absolute;\r\n  background-color: red;\r\n  z-index: -1;\n}\n.device-key {\r\n  position: absolute;\r\n  text-align: center;\r\n  text-overflow: hidden;\r\n  /*background-color: green;*/\r\n  display: table;\r\n  /*border-radius: .6rem;*/\r\n  /*border: .1rem solid #181818;\r\n      box-shadow:0 0 1rem #313131 inset;*/\r\n  z-index: 10;\r\n  box-sizing: border-box;\n}\n.device-key.noshowkeyset span {\r\n  display: none;\n}\n.device-key.fnseted {\r\n  /*border:1px solid green;*/\n}\n.device-key.seted {\r\n  border-bottom: 0.3rem solid #00c2ff;\n}\n.device-key span {\r\n  display: table-cell;\r\n  vertical-align: middle;\r\n  text-align: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 12;\r\n  cursor: pointer;\n}\n.device-key span.hasfunc {\r\n  color: #fff;\r\n  background-color: rgba(20, 20, 20, 0.6);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\n}\n.key-breath {\r\n  border: 1px solid #2b92d4;\r\n  border-radius: 2px;\r\n  color: #fff;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\r\n  overflow: hidden;\r\n  -webkit-animation-timing-function: ease-in-out;\r\n  -webkit-animation-name: keybreathe;\r\n  -webkit-animation-duration: 300ms;\r\n  -webkit-animation-iteration-count: infinite;\r\n  -webkit-animation-direction: alternate;\n}\n@-webkit-keyframes keybreathe {\n0% {\r\n    opacity: 0.3;\r\n    box-shadow: 0 1px 2px rgba(255, 255, 255, 0.1);\n}\n100% {\r\n    opacity: 1;\r\n    border: 1px solid rgba(0, 255, 0, 1);\r\n    box-shadow: 0 1px 30px rgba(255, 0, 0, 1);\n}\n}\n.custom.el-tooltip__popper {\r\n  border: 1px solid #00c2ff;\n}\n.custom.el-tooltip__popper .popper__arrow {\r\n  border-width: 6px;\r\n  bottom: -6px;\r\n  left: calc(50% - 6px);\r\n  margin-right: 3px;\r\n  border-bottom-width: 0;\r\n  border-top-color: #00c2ff;\n}\n.custom.el-tooltip__popper .popper__arrow::after {\r\n  bottom: 1px;\r\n  margin-left: -6px;\r\n  border-top-color: #303133;\r\n  border-bottom-width: 0;\n}\n.key-func {\r\n  color: gray;\n}\n.key-func tr td {\r\n  padding: 0.1rem;\n}\n.key-func tr td.cval {\r\n  color: #eee;\n}\n.key-func tr td i {\r\n  color: red;\r\n  font-size: 1.2rem;\r\n  cursor: pointer;\n}\n.key-func tr td i.warning {\r\n  color: yellow;\n}\n.dis-edit {\r\n  color: red;\n}\n#conf_showbox {\r\n  position: absolute;\r\n  display: block;\n}\n#std_conf_showbox td {\r\n  border: 1px solid #00778a;\r\n  padding: 0.1rem 0.2rem;\n}\n.device-multiselect {\r\n  position: absolute;\r\n  z-index: 2;\r\n  border: 2px dotted #0af;\r\n  filter: alpha(opacity=50);\n}\n#quick_sel {\r\n  position: absolute;\r\n  text-align: center;\r\n  z-index: 2;\n}\r\n",""])},54197:function(e,t,i){t=e.exports=i(54765)(!1),t.push([e.id,"\n.image-wrapper {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  cursor: -webkit-grab;\r\n  cursor: grab;\r\n  -webkit-user-select: none;\r\n          user-select: none;\n}\n.slider-container {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  transition: transform 0.3s ease-out;\n}\n.slider-slide {\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  overflow: hidden;\r\n  cursor: pointer;\n}\n.device-panel {\r\n  position: absolute;\r\n  z-index: 0;\n}\n.device-keycap {\r\n  position: absolute;\r\n  z-index: 1;\n}\n.device-outline {\r\n  width: 100%;\r\n  position: absolute;\r\n  z-index: -1;\r\n  -webkit-animation-timing-function: ease-in-out;\r\n  -webkit-animation-name: device-outline;\r\n  -webkit-animation-duration: 1000ms;\r\n  -webkit-animation-iteration-count: infinite;\r\n  -webkit-animation-direction: alternate;\n}\r\n",""])},1315:function(e,t,i){"use strict";i.r(t);i(74423),i(26099),i(23500);function n(){var e=[],t=[];function i(e,t){e.forEach((function(e){e.call(null,t)}))}this.onSingleTap=function(t){"function"!==typeof t||e.includes(t)||e.push(t)},this.onDoubleTap=function(e){"function"!==typeof e||t.includes(e)||t.push(e)},this.attach=function(e){e instanceof Element?(e.addEventListener("touchstart",c),e.addEventListener("touchmove",h),e.addEventListener("touchend",d),e.addEventListener("mousedown",u),e.addEventListener("mouseup",m),e.addEventListener("mousemove",f)):console.error("TapDetector.attach: arg must be an Element")},this.detach=function(e){e.removeEventListener("touchstart",c),e.removeEventListener("touchmove",h),e.removeEventListener("touchend",d),e.removeEventListener("mousedown",u),e.removeEventListener("mouseup",m),e.removeEventListener("mousemove",f)};var n=!1,s=0,o=0,r=0,a=0,l=0;function c(e){n=!0,1===e.touches.length&&p(e.touches[0].clientX,e.touches[0].clientY)}function d(e){0===e.touches.length&&y()}function h(e){1===e.touches.length&&g(e.touches[0].clientX,e.touches[0].clientY)}function u(e){n||p(e.clientX,e.clientY)}function m(e){n||y()}function f(e){n||0===e.button&&g(e.clientX,e.clientY)}function p(e,t){a=e,l=t,r=0}function y(){var n=Date.now();r<10&&(n-s<300?o+=1:o=1,s=Date.now(),i(e,{clientX:a,clientY:l}),2===o&&(i(t,{clientX:a,clientY:l}),o=0)),r=0}function g(e,t){var i=a-e,n=l-t,s=Math.sqrt(i*i+n*n);r+=s,a=e,l=t}}t["default"]=n},97924:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vue-zoomer",style:e.imageStyle,on:{mousewheel:e.onMouseWheel,DOMMouseScroll:e.onMouseWheel,mousedown:e.onMouseDown,mouseup:e.onMouseUp,mousemove:e.onMouseMove,mouseout:e.setPointerPosCenter,touchstart:e.onTouchStart,touchend:e.onTouchEnd,touchmove:e.onTouchMove}},[t("div",{staticClass:"zoomer",style:e.wrapperStyle},[e._t("default")],2)])},s=[],o=i(2543),r=i(1315),a={data(){return{containerWidth:1,containerHeight:1,containerLeft:0,containerTop:0,translateX:0,animTranslateX:0,translateY:0,animTranslateY:0,scale:1,animScale:1,lastFullWheelTime:0,lastWheelTime:0,lastWheelDirection:"y",isPointerDown:!1,pointerPosX:-1,pointerPosY:-1,twoFingerInitDist:0,panLocked:!0,raf:null,tapDetector:null,imageWidth:0,imageHeight:0}},props:{minScale:{type:Number,default:1},maxScale:{type:Number,default:5},zoomed:{type:Boolean,default:!1},resetTrigger:{type:Number,default:1e5},aspectRatio:{type:Number,default:1},backgroundColor:{type:String,default:"transparent"},pivot:{type:String,default:"cursor"},zoomingElastic:{type:Boolean,default:!0},limitTranslation:{type:Boolean,default:!0},doubleClickToZoom:{type:Boolean,default:!0},mouseWheelToZoom:{type:Boolean,default:!0}},computed:{wrapperStyle(){var e=this.containerWidth*this.animTranslateX,t=this.containerHeight*this.animTranslateY;return{transform:[`translate(${e}px, ${t}px)`,`scale(${this.animScale})`].join(" ")}}},watch:{src(){this.getImageSize()},scale(e){1!==e&&(this.$emit("update:zoomed",!0),this.panLocked=!1)},resetTrigger:"reset"},mounted(){this.tapDetector=new r["default"],this.tapDetector.attach(this.$el),this.doubleClickToZoom&&this.tapDetector.onDoubleTap(this.onDoubleTap),window.addEventListener("resize",this.onWindowResize),this.onWindowResize(),this.refreshContainerPos(),this.loop()},destroyed(){this.tapDetector.detach(this.$el),window.removeEventListener("resize",this.onWindowResize),window.cancelAnimationFrame(this.raf)},methods:{getImageSize(){var e=this;if(this.src){var t=new Image;t.src=this.src,t.naturalWidth=this.imageWidth,t.naturalHeight=this.imageHeight;var i=function i(){e.$emit("error"),t.removeEventListener("error",i)};t.addEventListener("error",i);var n=function i(){e.imageSize={width:t.width,height:t.height},e.imageSize,e.$emit("success"),t.removeEventListener("load",i)};t.addEventListener("load",n)}},reset(){this.scale=1,this.panLocked=!0,this.translateX=0,this.translateY=0},zoomIn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.tryToScale(e),this.onInteractionEnd()},zoomOut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;this.tryToScale(e),this.onInteractionEnd()},tryToScale(e){var t=this.scale*e;if(this.zoomingElastic){if(t<this.minScale||t>this.maxScale){var i=Math.log2(e);i*=.2,e=Math.pow(2,i),t=this.scale*e}}else t<this.minScale?t=this.minScale:t>this.maxScale&&(t=this.maxScale);if(e=t/this.scale,this.scale=t,"image-center"!==this.pivot){var n=(this.pointerPosX-this.containerLeft)/this.containerWidth,s=(this.pointerPosY-this.containerTop)/this.containerHeight;this.translateX=(.5+this.translateX-n)*e+n-.5,this.translateY=(.5+this.translateY-s)*e+s-.5}},setPointerPosCenter(){this.pointerPosX=this.containerLeft+this.containerWidth/2,this.pointerPosY=this.containerTop+this.containerHeight/2},onPointerMove(e,t){if(this.isPointerDown){var i=e-this.pointerPosX,n=t-this.pointerPosY;this.panLocked||(this.translateX+=i/this.containerWidth,this.translateY+=n/this.containerHeight)}this.pointerPosX=e,this.pointerPosY=t},onInteractionEnd:(0,o.debounce)((function(){this.limit(),this.panLocked=1===this.scale,this.$emit("update:zoomed",!this.panLocked)}),100),limit(){if(this.scale<this.minScale?this.scale=this.minScale:this.scale>this.maxScale&&this.tryToScale(this.maxScale/this.scale),this.limitTranslation){var e=this.calcTranslateLimit();Math.abs(this.translateX)>e.x&&(this.translateX*=e.x/Math.abs(this.translateX)),Math.abs(this.translateY)>e.y&&(this.translateY*=e.y/Math.abs(this.translateY))}},calcTranslateLimit(){if("y"===this.getMarginDirection()){var e=this.containerWidth/this.aspectRatio/this.containerHeight,t=(this.scale*e-1)/2;return t<0&&(t=0),{x:(this.scale-1)/2,y:t}}var i=this.containerHeight*this.aspectRatio/this.containerWidth,n=(this.scale*i-1)/2;return n<0&&(n=0),{x:n,y:(this.scale-1)/2}},getMarginDirection(){var e=this.containerWidth/this.containerHeight;return e>this.aspectRatio?"x":"y"},onDoubleTap(e){1===this.scale?(e.clientX>0&&(this.pointerPosX=e.clientX,this.pointerPosY=e.clientY),this.tryToScale(Math.min(3,this.maxScale))):this.reset(),this.onInteractionEnd()},onWindowResize(){var e=window.getComputedStyle(this.$el);this.containerWidth=parseFloat(e.width),this.containerHeight=parseFloat(e.height),this.setPointerPosCenter(),this.limit()},refreshContainerPos(){var e=this.$el.getBoundingClientRect();this.containerLeft=e.left,this.containerTop=e.top},loop(){this.animScale=this.gainOn(this.animScale,this.scale),this.animTranslateX=this.gainOn(this.animTranslateX,this.translateX),this.animTranslateY=this.gainOn(this.animTranslateY,this.translateY),this.raf=window.requestAnimationFrame(this.loop)},gainOn(e,t){var i=.3*(t-e);return Math.abs(i)>1e-5?e+i:t},onMouseWheel(e){if(this.mouseWheelToZoom){e.preventDefault(),e.detail&&(e.wheelDelta=-10*e.detail);var t=Date.now();120===Math.abs(e.wheelDelta)?t-this.lastFullWheelTime>50&&(this.onMouseWheelDo(e.wheelDelta),this.lastFullWheelTime=t):(t-this.lastWheelTime>50&&"number"===typeof e.deltaX&&(this.lastWheelDirection=0==e.detail&&Math.abs(e.deltaX)>Math.abs(e.deltaY)?"x":"y","x"===this.lastWheelDirection&&this.$emit("swipe",e.deltaX>0?"left":"right")),"y"===this.lastWheelDirection&&this.onMouseWheelDo(e.wheelDelta)),this.lastWheelTime=t}},onMouseWheelDo(e){var t=Math.pow(1.25,e/120);this.tryToScale(t),this.onInteractionEnd()},onMouseDown(e){this.refreshContainerPos(),this.isPointerDown=!0,this.pointerPosX=e.clientX,this.pointerPosY=e.clientY},onMouseUp(e){this.isPointerDown=!1,this.onInteractionEnd()},onMouseMove(e){this.onPointerMove(e.clientX,e.clientY)},onTouchStart(e){if(1===e.touches.length)this.refreshContainerPos(),this.pointerPosX=e.touches[0].clientX,this.pointerPosY=e.touches[0].clientY,this.isPointerDown=!0;else if(2===e.touches.length){this.isPointerDown=!0,this.pointerPosX=(e.touches[0].clientX+e.touches[1].clientX)/2,this.pointerPosY=(e.touches[0].clientY+e.touches[1].clientY)/2;var t=e.touches[0].clientX-e.touches[1].clientX,i=e.touches[0].clientY-e.touches[1].clientY;this.twoFingerInitDist=Math.sqrt(t*t+i*i)}},onTouchEnd(e){0===e.touches.length?(this.isPointerDown=!1,Math.abs(this.scale-1)<.1&&(this.scale=1),this.onInteractionEnd()):1===e.touches.length&&(this.pointerPosX=e.touches[0].clientX,this.pointerPosY=e.touches[0].clientY)},onTouchMove(e){if(1===e.touches.length)this.onPointerMove(e.touches[0].clientX,e.touches[0].clientY);else if(2===e.touches.length){var t=(e.touches[0].clientX+e.touches[1].clientX)/2,i=(e.touches[0].clientY+e.touches[1].clientY)/2;this.onPointerMove(t,i),this.pointerPosX=t,this.pointerPosY=i;var n=e.touches[0].clientX-e.touches[1].clientX,s=e.touches[0].clientY-e.touches[1].clientY,o=Math.sqrt(n*n+s*s);this.tryToScale(o/this.twoFingerInitDist),this.twoFingerInitDist=o}}}},l=a,c=(i(39135),i(14486)),d=(0,c.A)(l,n,s,!1,null,"43d84498",null),h=d.exports},66285:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return m}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"device",attrs:{id:"device"},on:{mousedown:function(t){return e.drag(t)}}},[t("img",{staticClass:"device-panel no-max-width",style:{width:1200*e.scale+"px",height:600*e.scale+"px",left:-e.offsetleft+"px",top:-e.offsettop+"px"},attrs:{src:e.APPCFG.devices[e.did].img_panel,draggable:"false"}}),t("img",{staticClass:"device-keycap no-max-width",style:{width:1200*e.scale+"px",height:600*e.scale+"px",left:-e.offsetleft+"px",top:-e.offsettop+"px"},attrs:{src:e.APPCFG.devices[e.did].img_keycap,draggable:"false"},on:{mouseout:e.hideConfig}}),t("img",{staticClass:"device-outline no-max-width",style:{width:1200*e.scale+"px",height:600*e.scale+"px",left:-e.offsetleft+"px",top:-e.offsettop+"px"},attrs:{src:e.APPCFG.devices[e.did].img_outline,draggable:"false"}}),e._l(e.showkeymap,(function(e,i){return t("div",{key:i,ref:"le"+e.LocationCode,refInFor:!0,staticClass:"device-light",style:{left:e.Position.Left+"px",top:e.Position.Top+"px",width:e.Position.Width+"px",height:e.Position.Height+"px",transform:"rotate("+e.Position.Rotate+"deg)"},attrs:{id:"le"+e.LocationCode}})})),e._l(e.showkeymap,(function(i,n){return t("div",{directives:[{name:"show",rawName:"v-show",value:0==i.LogicCode,expression:"key.LogicCode == 0"}],key:"fn"+n,staticClass:"device-fn",class:{active:e.isfnlayer},style:{left:i.Position.Left+"px",top:i.Position.Top+"px",width:i.Position.Width+"px",height:i.Position.Height+"px",transform:"rotate("+i.Position.Rotate+"deg)"},on:{click:e.switchFnLayer}})})),t("div",{staticClass:"keybox"},e._l(e.showkeymap,(function(i,n){return t("div",{directives:[{name:"show",rawName:"v-show",value:e.showbtn&&i.LogicCode>0,expression:"showbtn && key.LogicCode > 0"}],key:n,ref:"key"+i.LogicCode,refInFor:!0,staticClass:"device-key xs:text-xx-small sm:text-xx-small md:text-xx-small lg:text-x-small xl:text-smaller 2xl:text-smaller 3xl:text-smaller",class:{noshowkeyset:!e.isshowkeyset},style:{left:i.Position.Left+"px",top:i.Position.Top+"px",width:i.Position.Width+"px",height:i.Position.Height+"px",transform:"rotate("+i.Position.Rotate+"deg)"},attrs:{"data-logic":i.LogicCode,id:"key"+i.LogicCode},on:{click:function(t){return e.handleKeyClick(i.LogicCode)},mouseover:function(t){return e.showConfig(i.LogicCode)},dblclick:function(t){return e.togglehandle(i)}}})})),0),t("div",{staticClass:"device-multiselect",style:{left:e.mutiselect.left+"px",top:e.mutiselect.top+"px",width:e.mutiselect.width+"px",height:e.mutiselect.height+"px",display:e.mutiselect.display}}),e.showbtn?t("div",{staticClass:"custom el-tooltip__popper is-dark",staticStyle:{visibility:"hidden"},attrs:{id:"conf_showbox"}},[t("div",[t("table",{staticClass:"key-func"},[t("tr",[t("td",[e._v(e._s(e.$t("common.key_func"))+" :")]),t("td",{staticClass:"cval",attrs:{colspan:"2",id:"config_key"}},[e._v("\n              "+e._s(e.$t("common.key_func_no_config"))+"\n            ")]),t("td",[t("i",{staticClass:"el-icon-delete",on:{click:e.handleRemoveFunc}})])])])]),t("div",{staticClass:"popper__arrow"})]):e._e(),e.showstdset?t("div",{staticClass:"custom el-tooltip__popper is-dark xs:text-xs sm:text-sm md:text-md lg:text-lg xl:text-xl 2xl:text-2xl 3xl:text-3xl",staticStyle:{padding:"6px"},attrs:{id:"std_conf_showbox"}},[t("div",[t("table",{staticClass:"key-func flex flex-col"},[t("tr",{staticClass:"flex",staticStyle:{height:"1.8rem","line-height":"1.8rem"}},[t("th",[e._v(e._s(e.$t("common.light_effect"))+":")]),e._l(e.device.currentProfile.DriverLE,(function(i,n){return t("td",{key:n,staticClass:"flex items-center justify-items-center"},[t("span",{attrs:{id:"std_le_"+n},domProps:{textContent:e._s(i.GUID?i.Name:e.$t("common.key_le_no_config"))}}),t("el-tooltip",{attrs:{placement:"top","hide-after":500}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.$t("le.change_le_effect")))]),t("i",{staticClass:"el-icon-s-tools warning",on:{click:function(t){return e.handleSelectStdLE(n)}}})]),t("i",{staticClass:"el-icon-delete error",on:{click:function(t){return e.handleRemoveStdLE(n)}}})],1)}))],2),e.hasfnx?t("tr",[t("th",{staticStyle:{"text-align":"right"}},[e._v("Fnx:")]),t("td",{staticStyle:{border:"none","text-align":"left"},attrs:{colspan:"5"}},[t("el-radio-group",{attrs:{size:"mini"},on:{change:e.changeFnx},model:{value:e.stdfnxval,callback:function(t){e.stdfnxval=t},expression:"stdfnxval"}},[t("el-radio-button",{attrs:{label:"0x0a070002"}},[e._v(e._s(e.$t("keys.key_mode_offline_1"))+"\n                ")]),t("el-radio-button",{attrs:{label:"0x0a070003"}},[e._v(e._s(e.$t("keys.key_mode_offline_2"))+"\n                ")]),t("el-radio-button",{attrs:{label:"0x0a070004"}},[e._v(e._s(e.$t("keys.key_mode_offline_3"))+"\n                ")])],1)],1)]):e._e()])]),t("div",{staticClass:"popper_ _arrow",staticStyle:{left:"2rem"}})]):e._e(),e.isediting?t("div",{style:{bottom:"1rem",width:"100%"},attrs:{id:"quick_sel"}},[t("el-row",[t("el-col",{attrs:{span:24}},[e._l(e.quickselects,(function(i,n){return t("el-button",{key:n,attrs:{size:"mini"},on:{click:function(t){return e.selectQuickKeys(i.lcodes)}},nativeOn:{mouseenter:function(t){e.ismutiselect=!1},mouseleave:function(t){e.ismutiselect=!0}}},[e._v(e._s(e.$t("common")[i.lang])+"\n          ")])})),t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.selectQuickKeys("all")}},nativeOn:{mouseenter:function(t){e.ismutiselect=!1},mouseleave:function(t){e.ismutiselect=!0}}},[e._v(e._s(e.$t("common.line_all"))+"\n          ")]),t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.selectQuickKeys("none")}},nativeOn:{mouseenter:function(t){e.ismutiselect=!1},mouseleave:function(t){e.ismutiselect=!0}}},[e._v(e._s(e.$t("common.line_none"))+"\n          ")])],2)],1)],1):e._e()],2)},s=[],o=(i(25276),i(26099),i(38781),i(23500),i(97924)),r=i(94624),a=document.getElementById("mainbox").offsetHeight,l=document.getElementById("mainbox").offsetWidth,c={data(){return{mainh:a,mainw:l,offsettop:0,offsetleft:0,isshowkeyset:!0,showstdset:!1,device:window.DEVICE,cms:window.CMS,ismutiselect:!1,hasfnx:!1,stdfnxval:"",mutiselect:{startpos:{x:0,y:0},endpos:{x:0,y:0},left:0,top:0,width:0,height:0,display:"none",ismousedown:!1},mutiselecttype:0,mutiselectkeys:[],quickselects:window.CMS.deviceConfig.QuickSelect,isfnlayer:!1}},props:["deviceid","scale","scaleplus","keymap","showbtn","isfnkeyset","isediting"],components:{DeviceImage:o["default"],ImageWrapper:r["default"]},computed:{showkeymap:function(){var e=this.scale,t=[];this.offsetleft=this.scaleplus/2*1200,this.offsettop=this.scaleplus/2*600;for(var i=0;i<this.keymap.length;i++){var n=JSON.parse(JSON.stringify(this.keymap[i]));n.Position.Top=this.keymap[i].Position.Top*e-this.offsettop,n.Position.Left=this.keymap[i].Position.Left*e-this.offsetleft,n.Position.Width=this.keymap[i].Position.Width*e,n.Position.Height=this.keymap[i].Position.Height*e,t.push(n)}return t},did:function(){return this.deviceid}},mounted(){},watch:{deviceid(e){this.deviceid=e,this.hasfnx=!1},"device.currentProfile.ModeIndex":function(e,t){return 656801992===window.CMS.deviceID||656802033===window.CMS.deviceID||656802036===window.CMS.deviceID?this.showstdset=!1:void(1===e?this.showStdSet():this.hideStdSet())},mutiselectkeys(e){JSON.stringify(e),e.length;var t=this;t.$emit("selLeKeys",e,t.mutiselecttype)}},methods:{showStdSet(){var e=this;this.showstdset=!0,this.$nextTick((function(){e.showStdBtns(),window.translateStdLelist(),window.readLE(DEVICE.currentProfile.DriverLE[0].GUID,(function(t){t&&(window.LeData=t,window.LeData,e.playLe())})),document.getElementById("std_conf_showbox").classList.add("key-breath"),setTimeout((function(){document.getElementById("std_conf_showbox")&&document.getElementById("std_conf_showbox").classList.remove("key-breath")}),2e3)}))},hideStdSet(){this.showstdset=!1},tableColumnClassName:function(e,t){switch(window.CMS.deviceID){case 656802004:return!0;case 656802005:return!0;case 656802006:return!0;case 656802007:return!0;case 656802042:return!0;default:return!1}},initKeyset:function(){var e=this,t="KeySet";e.isfnkeyset?(t="FnKeySet",e.isfnlayer=!0,DEVICE.currentProfile.KeySet.forEach((function(e,t){var i=document.getElementById("key"+e.Index);i&&(i.classList.remove("seted"),i.classList.remove("fnseted"),i.classList.remove("key-breath"),i.setAttribute("data-func",""),i.setAttribute("data-le",""),i.innerHTML="<span></span>")}))):e.isfnlayer=!1,DEVICE.currentProfile[t].forEach((function(i,n){var s=document.getElementById("key"+i.Index);if(s){if(s.classList.remove("seted"),s.classList.remove("fnseted"),s.setAttribute("data-func",""),s.setAttribute("data-le",""),s.innerHTML="<span></span>",e.isfnkeyset&&s.classList.add("fnseted"),DEVICE.currentProfile[t][n].MenuName)if(s.children[0].classList.add("hasfunc"),s.classList.add("seted"),"0x0A010001"==DEVICE.currentProfile[t][n].DriverValue)s.children[0].innerHTML=i.MenuName,s.setAttribute("data-func",i.MenuName);else if(i.DriverValue,window.KeyFunc[i.DriverValue])window.KeyFunc[i.DriverValue].hasOwnProperty("Icon")&&s.children[0].classList.add(window.KeyFunc[i.DriverValue].Icon),window.KeyFunc[i.DriverValue].ShowClass&&s.children[0].classList.add(window.KeyFunc[i.DriverValue].ShowClass),s.setAttribute("data-func",e.$t("keys")[window.KeyFunc[i.DriverValue].LangTitle]),window.KeyFunc[i.DriverValue].Icon?s.children[0].innerHTML="":s.children[0].innerHTML=e.$t("keys")[window.KeyFunc[i.DriverValue].LangTitle];else if(s.setAttribute("data-func",i.MenuName),i.MenuName.length>2&&i.MenuName.length<=5)i.MenuName,s.children[0].innerHTML=i.MenuName;else{s.children[0].innerHTML,i.MenuName;var o=s.offsetWidth,r=s.offsetHeight,a=.3*Math.min(o,r)+"px";s.querySelector("span").style.fontSize=a,s.children[0].innerHTML=i.MenuName.substring(0,4)+"..."}DEVICE.currentProfile.KeySet[n].KeyLE&&""!==DEVICE.currentProfile.KeySet[n].KeyLE.GUID&&(s.classList.add("seted"),s.setAttribute("data-le",DEVICE.currentProfile.KeySet[n].KeyLE.Name))}}))},initStdKeyset:function(){var e=this;window.DEVICE.ensureLoaded((function(){window.DefaultProfiles[0].KeySet.forEach((function(e,t){var i=document.getElementById("key"+e.Index);i&&(i.classList.remove("seted"),i.setAttribute("data-func",""),i.setAttribute("data-le",""),i.innerHTML="<span></span>")})),CMS.deviceConfig.IsFnx&&(e.hasfnx=!0,DEVICE.currentProfile.hasOwnProperty("KeySet")&&(e.stdfnxval=e.device.currentProfile.KeySet[0].DriverValue.toString()))}))},changeFnx:function(e){var t=this;DEVICE.currentProfile.KeySet[0].DriverValue=e,t.$emit("fnxChange")},handleRemoveLight(){this.$emit("removeKeyLE")},handleRemoveFunc(){this.$emit("removeKeyFunc")},showStdBtns:function(){var e=document.getElementById("conf_showbox");e.style.setProperty("visibility","hidden","important");var t=document.getElementById("std_conf_showbox"),i=CMS.deviceConfig.DriverLEKey,n=document.getElementById("key"+i);n.offsetWidth,n.offsetLeft,n.offsetTop,t.offsetWidth,t.offsetHeight;t.style.setProperty("left","1rem","important"),t.style.setProperty("bottom","2.25rem","important")},showConfig(e){var t=document.getElementById("conf_showbox");if(DEVICE.currentProfile&&1!==DEVICE.currentProfile.ModeIndex){var i=document.getElementById(`key${e}`),n={KeyFUNC:"",KeyLE:""};n.KeyFUNC=i.getAttribute("data-func"),n.KeyLE=i.getAttribute("data-le"),document.getElementById("config_key").innerText=n.KeyFUNC?n.KeyFUNC:this.$t("common.key_func_no_config"),document.getElementById("config_le")&&(document.getElementById("config_le").innerText=n.KeyLE?n.KeyLE:this.$t("common.key_le_no_config")),document.getElementById("config_key").setAttribute("data-key",e);var s=i.offsetWidth,o=i.offsetLeft,r=i.offsetTop,a=t.offsetWidth,l=t.offsetHeight,c=o+s/2-a/2,d=r-l;t.style.setProperty("left",`${c}px`,"important"),t.style.setProperty("top",`${d}px`,"important"),t.style.setProperty("visibility","visible","important")}},hideConfig:function(){var e=document.getElementById("conf_showbox");e&&e.style.setProperty("visibility","hidden","important")},handleKeyClick:function(e){var t=this;if(1!=DEVICE.currentProfile.ModeIndex)if(0!==e){var i=!1,n=DEVICE.currentProfile.KeySet;t.isfnkeyset&&(n=DEVICE.currentProfile.FnKeySet);for(var s=0;s<n.length;s++)if(e==n[s].Index){i=!0;break}if(i){DEVICE.editKeyCode=e;var o=document.getElementById("key"+e);o.classList.add("key-breath"),window.removeClass(window.siblings(o),"key-breath")}else t.alertInfo(t.$t("common.key_already_preset_func"),"warning",1e3)}else t.alertInfo(t.$t("common.fn_not_edit"),"warning",1e3);else t.alertInfo(t.$t("common.std_key_func_not_edit"),"warning",1e3)},handleSelectKeyLE:function(){this.$emit("showKeyLeSelect")},handleSelectStdLE:function(e){DEVICE.lestdindex=parseInt(e),this.$emit("selectStdLE")},handleRemoveStdLE:function(e){DEVICE.lestdindex=parseInt(e),this.$emit("removeStdLE")},renderFrame:function(e){for(var t=0;t<DEVICE.keymap.length;t++){var i=DEVICE.keymap[t].LocationCode;i=i.toString(),e[i]||document.getElementById("le"+i)&&document.getElementById("le"+i).style.setProperty("background","#000")}for(var n in e){var s=document.getElementById("le"+n);s&&s.style.setProperty("background",window.toJS(e[n]))}},togglehandle(e){},playLe(){var e=this,t=0,i=0,n=0,s=0;if(LeData.Canvases)for(var o=0;o<LeData.Canvases.length;o++)if(LeData.Canvases[o].DeviceTypes.indexOf(CMS.deviceConfig.DeviceType.toString())>=0){LeData=JSON.parse(JSON.stringify(LeData.Canvases[o]));break}JSON.stringify(LeData);for(var r=0;r<LeData.Frames.length;r++)s+=LeData.Frames[r].Count;DEVICE.timer&&(clearInterval(DEVICE.timer),DEVICE.timer=null);var a=0;DEVICE.timer=setInterval((function(){n++,n==s&&(n=0);for(var o=JSON.parse(JSON.stringify(LeData.LEConfigs)),r={},l=0;l<o.length;l++){switch(o[l].Color||(o[l].Color="0xffffff"),o[l].Type){case 0:o[l].Color=window.toJS(o[l].Color);break;case 1:var c=window.toHSB(o[l].Color);c.h=(c.h+a%o[l].Count*(360/o[l].Count))%360,o[l].Color=window.fromRGB(window.fromHSB(c));break;case 2:c=window.toHSB(o[l].Color);c.b=c.b-a%(o[l].Count+o[l].StayCount)/(o[l].Count+o[l].StayCount)*100,o[l].Color=window.fromRGB(window.fromHSB(c));break}for(var d in o[l].Keys)r[o[l].Keys[d]]=o[l].Color}var h={};for(var u in LeData.Frames[t].Data)r[u]?h[u]=r[u]:h[u]="0xffffff";LeData.Frames[t].Count>1?(i==LeData.Frames[t].Count-1&&(t++,i=0,t==LeData.Frames.length&&(t=0)),e.renderFrame(h),i++):(LeData.Frames[t].Data&&e.renderFrame(h),t++,t==LeData.Frames.length&&(t=0)),a++}),100)},drag(e){var t=this;if(t.ismutiselect){var i=document.getElementById("cms_header").offsetHeight;t.mutiselect.startpos.x=e.pageX,t.mutiselect.startpos.y=e.pageY,t.mutiselect.display="",t.mutiselect.left=e.pageX,t.mutiselect.top=e.pageY-i,t.mutiselect.ismousedown=!0,t.mutiselecttype=0,document.getElementById("device").onmousemove=function(e){t.mutiselect.ismousedown&&(t.mutiselect.endpos.x=e.pageX,t.mutiselect.endpos.y=e.pageY,t.mutiselect.left=Math.min(e.pageX,t.mutiselect.startpos.x),t.mutiselect.top=Math.min(e.pageY-i,t.mutiselect.startpos.y-i),t.mutiselect.width=Math.abs(t.mutiselect.endpos.x-t.mutiselect.startpos.x),t.mutiselect.height=Math.abs(t.mutiselect.endpos.y-t.mutiselect.startpos.y))},document.onmouseup=function(){if(t.mutiselect.ismousedown){t.mutiselect.ismousedown=!1,t.mutiselect.display="none";for(var e=[],n=0;n<t.keymap.length;n++){var s=document.getElementById("le"+t.keymap[n].LocationCode);s&&(t.mutiselect.width>0||t.mutiselect.height>0)?s.offsetLeft<Math.max(t.mutiselect.startpos.x,t.mutiselect.endpos.x)&&s.offsetLeft+s.offsetWidth>Math.min(t.mutiselect.startpos.x,t.mutiselect.endpos.x)&&s.offsetTop<Math.max(t.mutiselect.startpos.y-i,t.mutiselect.endpos.y-i)&&s.offsetTop+s.offsetHeight>Math.min(t.mutiselect.startpos.y-i,t.mutiselect.endpos.y-i)&&e.push(t.keymap[n].LocationCode):0!=t.mutiselect.width&&0!=t.mutiselect.height||t.mutiselect.startpos.x>=s.offsetLeft&&t.mutiselect.startpos.x<=s.offsetLeft+s.offsetWidth&&t.mutiselect.startpos.y-i>=s.offsetTop&&t.mutiselect.startpos.y-i<=s.offsetTop+s.offsetHeight&&e.push(t.keymap[n].LocationCode)}t.mutiselect.startpos.x=0,t.mutiselect.startpos.y=0,t.mutiselect.endpos.x=0,t.mutiselect.endpos.y=0,t.mutiselect.left=0,t.mutiselect.top=0,t.mutiselect.width=0,t.mutiselect.height=0,t.mutiselectkeys=e}}}},selectQuickKeys(e){var t=this,i=[];i="all"==e?window.getAllLocationCodes():"none"==e?[]:e,t.mutiselectkeys=i},selectQuickKeys(e){var t=this,i=[];"all"==e?i=window.getAllLocationCodes():"none"==e?(i=[],t.$emit("selLeKeys",[])):i=e,t.mutiselecttype=1,t.mutiselectkeys=i},switchFnLayer:function(){DEVICE.currentProfile.FnKeySet&&(this.isfnlayer=!this.isfnlayer,this.$emit("openFnLayer",this.isfnlayer))},alertInfo:function(e,t,i){this.$notify({title:e,type:t,duration:i,position:"bottom-left"})}}},d=c,h=(i(98591),i(14486)),u=(0,h.A)(d,n,s,!1,null,null,null),m=u.exports},94624:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return c}});var n=function(){var e=this,t=e._self._c;return t("div",{ref:"imagewrapper",staticClass:"image-wrapper",on:{mousedown:e.handleMouseDown,mousemove:e.handleMouseMove,mouseup:e.handleMouseUp,mouseleave:e.handleMouseLeave}},[t("div",{ref:"sliderContainer",staticClass:"slider-container",style:e.sliderContainerStyle},[t("div",{ref:"sliderSlide",staticClass:"slider-slide",style:e.sliderSlideStyle,on:{click:e.handleClick}},[t("img",{staticClass:"device-panel",style:e.picStyle,attrs:{src:e.APPCFG.devices[e.CMS.deviceID].img_panel},on:{load:e.handleImageLoad}}),t("img",{staticClass:"device-keycap",style:e.picStyle,attrs:{src:e.APPCFG.devices[e.CMS.deviceID].img_keycap},on:{load:e.handleImageLoad}}),t("img",{staticClass:"device-outline",style:e.picStyle,attrs:{src:e.APPCFG.devices[e.CMS.deviceID].img_outline},on:{load:e.handleImageLoad}})])])])},s=[],o={data(){return{cms:window.CMS,offsettop:0,offsetleft:0,currentIndex:0,isDragging:!1,startX:0,currentX:0,startScale:1,currentScale:1,originalWidth:0,originalHeight:0,sliderWidth:0,sliderHeight:0}},computed:{sliderContainerStyle(){return{position:"relative",overflow:"hidden",transform:`translate3d(${this.currentX}px, 0, 0) scale(${this.currentScale})`,width:`${this.sliderWidth}px`,height:`${this.sliderHeight}px`}},sliderSlideStyle(){return{position:"absolute",left:0,top:0,width:`${this.originalWidth}px`,height:`${this.originalHeight}px`}},picStyle(){return{width:"1200px",height:"600px",left:-this.offsetleft+"px",top:-this.offsettop+"px"}}},components:{},watch:{deviceid(e){this.deviceid=e,this.hasfnx=!1},did:function(){return this.deviceid}},mounted(){this.wrapperWidth,this.wrapperHeight},beforeUnmount(){},methods:{handleMouseDown(e){this.isDragging=!0,this.startX=e.clientX,this.startScale=this.currentScale},handleMouseMove(e){if(this.isDragging){var t=e.clientX-this.startX;this.currentX+=t,this.startX=e.clientX}},handleMouseUp(){this.isDragging=!1},handleMouseLeave(){this.isDragging=!1},handleClick(e){1===this.currentScale?(this.currentScale=2,this.currentX=this.sliderWidth/2-e.clientX*this.currentScale):(this.currentScale=1,this.currentX=0)},handleImageLoad(){var e=this.$refs.sliderSlide.querySelector("img");this.originalWidth=e.naturalWidth,this.originalHeight=e.naturalHeight,this.sliderWidth=this.$refs.imagewrapper.offsetWidth,this.sliderHeight=this.$refs.imagewrapper.offsetHeight}}},r=o,a=(i(14290),i(14486)),l=(0,a.A)(r,n,s,!1,null,null,null),c=l.exports},39135:function(e,t,i){var n=i(42178);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var s=i(70534).A;s("24ecfaa3",n,!0,{})},98591:function(e,t,i){var n=i(62458);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var s=i(70534).A;s("5ed03d2e",n,!0,{})},14290:function(e,t,i){var n=i(54197);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var s=i(70534).A;s("f8ef3c42",n,!0,{})}}]);