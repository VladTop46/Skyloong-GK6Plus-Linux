(self["webpackChunkkeyboard_driver"]=self["webpackChunkkeyboard_driver"]||[]).push([[6970,5440,2230,1288,2950,8449],{2972:function(e,t,i){t=e.exports=i(54765)(void 0),t.push([e.id,".wrapper[data-v-cc7503b8]{display:flex;flex-direction:column}.vc-sketch[data-v-cc7503b8]{background:#252525;border:1px solid #00c2ff}.vc-sketch .vc-sketch-controls[data-v-cc7503b8],.vc-sketch .vc-sketch-field[data-v-cc7503b8]{display:flex;flex:1 1 100%}.vc-sketch .vc-sketch-field--single[data-v-cc7503b8],.vc-sketch .vc-sketch-field--double[data-v-cc7503b8]{display:flex;flex-shrink:1}.vc-sketch .vc-sketch-field--single .vc-input__input[data-v-cc7503b8],.vc-sketch .vc-sketch-field--double .vc-input__input[data-v-cc7503b8]{width:100%;text-align:center}.vc-sketch .vc-sketch-field .vc-input__label[data-v-cc7503b8]{color:#1b0f0f !important}.vc-sketch .vc-sketch-field--double[data-v-cc7503b8]{flex-grow:2}.vc-sketch .vc-editable-input[data-v-cc7503b8]{width:100%}.vc-sketch .vc-sketch-sliders[data-v-cc7503b8],.vc-sketch .vc-sketch-color-wrap[data-v-cc7503b8]{flex-shrink:1}.vc-sketch .vc-sketch-sliders[data-v-cc7503b8]{flex-grow:1}[data-v-cc7503b8] .el-table__header tr,[data-v-cc7503b8] .el-table th,.el-table tr[data-v-cc7503b8]{background-color:rgba(0,0,0,0)}.le-edit-box[data-v-cc7503b8]{display:flex;width:max-content;justify-content:space-between;align-items:center;z-index:14}.col-1[data-v-cc7503b8]{flex-basis:0;flex-grow:1;flex-shrink:1}.col-2[data-v-cc7503b8]{flex-basis:0;flex-grow:1;flex-shrink:1}.col-3[data-v-cc7503b8]{flex-basis:100px;flex-grow:1;flex-shrink:1}.le-edit-box .el-col[data-v-cc7503b8]:first-child{border-right:2px solid #00a0dd}.le-edit-box .el-table[data-v-cc7503b8]{background:#252525}.le-edit-box .edit-cell[data-v-cc7503b8]{background:#333;border:1px solid #111;-webkit-appearance:none;background-image:none;border-radius:4px;border:1px solid #111;box-sizing:border-box;color:#aaa;display:inline-block;font-size:inherit;height:1.6rem;line-height:1.6rem;outline:0;padding:0 1rem;transition:border-color .2s cubic-bezier(0.645, 0.045, 0.355, 1);width:100%}.le-edit-box .edit-cell.mini[data-v-cc7503b8]{width:2.5rem;padding:0 .2rem;text-align:center}.le-edit-box th[data-v-cc7503b8]{background:#333}.btn-group-flex[data-v-cc7503b8]{display:flex;justify-content:space-between}.btn-group-flex button[data-v-cc7503b8]{flex-basis:1%;flex-grow:1}",""])},95582:function(e,t,i){t=e.exports=i(54765)(!1),t.push([e.id,"\n.rv {\r\n  display: flex;\r\n  flex-grow: 0;\r\n  flex-shrink: 0;\n}\r\n",""])},77091:function(e,t,i){t=e.exports=i(54765)(!1),t.push([e.id,"\n.vc-sketch {\r\n  overflow: hidden;\r\n  position: relative;\r\n  /* width: 100% !important; */\r\n  padding: 10px 10px 0;\r\n  box-sizing: initial;\r\n  background: #fff;\r\n  border-radius: 4px;\r\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.15), 0 8px 16px rgba(0, 0, 0, 0.15);\n}\n.vc-sketch-saturation-wrap {\r\n  width: 100%;\r\n  padding-bottom: 75%;\r\n  position: relative;\r\n  overflow: hidden;\n}\n.vc-sketch-controls {\r\n  display: flex;\n}\n.vc-sketch-sliders {\r\n  padding: 4px 0;\r\n  flex: 1;\n}\n.vc-sketch-sliders .vc-hue,\r\n.vc-sketch-sliders .vc-alpha-gradient {\r\n  border-radius: 2px;\n}\n.vc-sketch-hue-wrap {\r\n  position: relative;\r\n  height: 10px;\n}\n.vc-sketch-alpha-wrap {\r\n  position: relative;\r\n  height: 10px;\r\n  margin-top: 4px;\r\n  overflow: hidden;\n}\n.vc-sketch-color-wrap {\r\n  width: 24px;\r\n  height: 24px;\r\n  position: relative;\r\n  margin-top: 4px;\r\n  margin-left: 4px;\r\n  border-radius: 3px;\n}\n.vc-sketch-active-color {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  border-radius: 2px;\r\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.15),\r\n    inset 0 0 4px rgba(0, 0, 0, 0.25);\r\n  z-index: 2;\n}\n.vc-sketch-color-wrap .vc-checkerboard {\r\n  background-size: auto;\n}\n.vc-sketch-field {\r\n  display: flex;\r\n  padding-top: 4px;\n}\n.vc-sketch-field .vc-input__input {\r\n  width: 90%;\r\n  padding: 4px 0 3px 10%;\r\n  border: none;\r\n  box-shadow: inset 0 0 0 1px #ccc;\r\n  font-size: 10px;\n}\n.vc-sketch-field .vc-input__label {\r\n  display: block;\r\n  text-align: center;\r\n  font-size: 11px;\r\n  color: #222;\r\n  padding-top: 3px;\r\n  padding-bottom: 4px;\r\n  text-transform: capitalize;\n}\n.vc-sketch-field--single {\r\n  flex: 1;\r\n  padding-left: 6px;\n}\n.vc-sketch-field--double {\r\n  flex: 2;\n}\n.vc-sketch-presets {\r\n  /* display: grid;\r\n  grid-gap:1px;\r\n  grid-template-columns: repeat(auto-fill, minmax(10px, 1fr)); */\r\n  margin-right: -10px;\r\n  margin-left: -10px;\r\n  padding-left: 10px;\r\n  padding-top: 10px;\r\n  border-top: 1px solid #eee;\n}\n.vc-sketch-presets-color {\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n  position: relative;\r\n  display: inline-block;\r\n  margin: 0 10px 10px 0;\r\n  vertical-align: top;\r\n  cursor: pointer;\r\n  width: 16px;\r\n  height: 16px;\r\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.15);\n}\n.vc-sketch-presets-color .vc-checkerboard {\r\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.15);\r\n  border-radius: 3px;\n}\n.vc-sketch__disable-alpha .vc-sketch-color-wrap {\r\n  height: 10px;\n}\r\n",""])},15440:function(e,t,i){"use strict";i.r(t);var a=i(34766);t["default"]=a["default"]},32230:function(e,t,i){"use strict";i.r(t);var a=i(41288);t["default"]=a["default"]},82950:function(e,t,i){"use strict";i.r(t),t["default"]={props:{mode:{type:String,default:""},baseWidth:{type:[Number,String],default:"100%"},baseHeight:{type:[Number,String],default:"100%"}},data(){return{width:void 0,height:void 0}},methods:{parseNumberToString(e){var t=e;return"number"===typeof e&&(t=e+"px"),t},onMouseDown(e){this.$emit("mousedown",e,this)},onMouseUp(e){this.$emit("mouseup",e,this)},onMouseEnter(e){this.$emit("mouseenter",e,this)},onMouseOut(e){this.$emit("mouseout",e,this)},onMouseMove(e){this.$emit("mousemove",e,this)},onMouseOver(e){this.$emit("mouseover",e,this)},onMouseWheel(e){this.$emit("mousewheel",e,this)}},computed:{clientWidth(){return this.width,this.$el.clientWidth},clientHeight(){return this.height,this.$el.clientHeight},rect(){return{width:this.parseNumberToString(this.width),height:this.parseNumberToString(this.height)}}},mounted(){this.width=this.baseWidth,this.height=this.baseHeight}}},86970:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return p}});i(27495),i(25440);var a=function(){var e=this,t=e._self._c;return t("el-container",{staticClass:"content panel",attrs:{direction:"horizontal"}},[t("el-container",{staticClass:"content panel",attrs:{direction:"vertical"}},[t("resizable-view",{attrs:{mode:"vertical"}},[t("resizable-item",{attrs:{"base-height":"64%"}},[t("cms-device",{ref:"device",attrs:{disabled:"",deviceid:e.cms.deviceID,keymap:e.device.keymap,scale:e.lay_show_scale,scaleheight:e.lay_show_height,scaleplus:e.lay_show_scale_plus,showbtn:e.isshowbtn,isediting:e.isediting},on:{selLeKeys:e.selLeKeys}}),t("resizable-view",{staticClass:"le-edit-box"},[t("resizable-item",{attrs:{"base-width":"33%"}},[t("div",{staticClass:"col-1"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingframe,expression:"loadingframe"}],ref:"tb_frame",staticStyle:{"margin-bottom":"0"},attrs:{"header-cell-style":{background:"#000"},data:e.leeditdata.Frames,height:e.lay_le_edit_h-30,"highlight-current-row":"","empty-text":e.$t("common.no_data"),"row-class-name":e.rowClassName},on:{"row-click":e.handleFrameChange}},[t("el-table-column",{attrs:{label:e.$t("le.frame_num"),type:"index"}}),t("el-table-column",{attrs:{label:e.$t("le.frame_name"),prop:"Name"},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.row;return[t("input",{directives:[{name:"model",rawName:"v-model",value:a.Name,expression:"row.Name"}],staticClass:"edit-cell",domProps:{value:a.Name},on:{input:function(t){t.target.composing||e.$set(a,"Name",t.target.value)}}})]}},{key:"header",fn:function(i){return[t("span",[e._v(e._s(e.$t("le.frame_name")))]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("le.leframe_question"),placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]}}])}),t("el-table-column",{attrs:{label:e.$t("le.frame_length"),prop:"Count",width:"80"},scopedSlots:e._u([{key:"header",fn:function(i){return[t("span",[e._v(e._s(e.$t("le.frame_length")))]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("le.leframe_param_question"),placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]}},{key:"default",fn:function(i){var a=i.row;return[t("input",{directives:[{name:"model",rawName:"v-model.number",value:a.Count,expression:"row.Count",modifiers:{number:!0}}],staticClass:"edit-cell",attrs:{type:"number"},domProps:{value:a.Count},on:{input:function(t){t.target.composing||e.$set(a,"Count",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]}}])})],1),t("el-button-group",{staticClass:"btn-group-flex"},[t("el-button",{attrs:{icon:"el-icon-plus"},on:{click:e.addFrame}}),t("el-button",{attrs:{icon:"el-icon-copy-document"},on:{click:e.copyFrame}}),t("el-button",{attrs:{icon:"el-icon-delete",type:"warning"},on:{click:e.deleteFrame}}),t("el-button",{attrs:{icon:"el-icon-kb-moveup1"},on:{click:e.moveUpFrame}}),t("el-button",{attrs:{icon:"el-icon-kb-movedown1"},on:{click:e.moveDownFrame}})],1)],1)]),t("resizable-item",{attrs:{"base-width":"45%"}},[t("div",{staticClass:"col-2"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingleconfig,expression:"loadingleconfig"}],ref:"tb_leconfig",staticStyle:{"margin-bottom":"0"},attrs:{"header-cell-style":{background:"#000"},data:e.leeditdata.LEConfigs,height:e.lay_le_edit_h-30,"highlight-current-row":"","empty-text":e.$t("common.no_data"),"row-class-name":e.rowClassName},on:{"row-click":e.handleLEConfigChange}},[t("el-table-column",{attrs:{label:e.$t("le.color_num"),type:"index"}}),t("el-table-column",{attrs:{label:e.$t("le.color_effect"),prop:"Type"},scopedSlots:e._u([{key:"header",fn:function(i){return[t("span",[e._v(e._s(e.$t("le.color_effect")))]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("le.color_effect_question"),placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]}},{key:"default",fn:function(i){var a=i.row;return[0==a.Type?t("el-tag",[e._v(e._s(e.$t("le.color_effect_monochrome")))]):1==a.Type?t("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.$t("le.color_effect_rgb")))]):2==a.Type?t("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.$t("le.color_effect_breathing"))+" ")]):e._e()]}}])}),t("el-table-column",{attrs:{label:e.$t("le.color_config"),prop:"Color"},scopedSlots:e._u([{key:"header",fn:function(i){return[t("span",[e._v(e._s(e.$t("le.color_config")))]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("le.color_config_question"),placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]}},{key:"default",fn:function(i){var a=i.row;return[t("input",{directives:[{name:"model",rawName:"v-model",value:a.Color,expression:"row.Color"}],staticClass:"edit-cell",style:{background:a.Color.replace("0x","#")},domProps:{value:a.Color},on:{input:function(t){t.target.composing||e.$set(a,"Color",t.target.value)}}})]}}])}),t("el-table-column",{attrs:{label:e.$t("le.color_param"),prop:"Count"},scopedSlots:e._u([{key:"header",fn:function(i){return[t("span",[e._v(e._s(e.$t("le.color_param")))]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("le.color_param_question"),placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]}},{key:"default",fn:function(i){var a=i.row;return[2==a.Type?t("div",[t("input",{directives:[{name:"model",rawName:"v-model.number",value:a.StayCount,expression:"row.StayCount",modifiers:{number:!0}}],staticClass:"edit-cell mini",domProps:{value:a.StayCount},on:{input:function(t){t.target.composing||e.$set(a,"StayCount",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),t("svg-icon",{staticStyle:{color:"green"},attrs:{name:"switch"}}),t("input",{directives:[{name:"model",rawName:"v-model.number",value:a.Count,expression:"row.Count",modifiers:{number:!0}}],staticClass:"edit-cell mini",domProps:{value:a.Count},on:{input:function(t){t.target.composing||e.$set(a,"Count",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})],1):t("input",{directives:[{name:"model",rawName:"v-model.number",value:a.Count,expression:"row.Count",modifiers:{number:!0}}],staticClass:"edit-cell",domProps:{value:a.Count},on:{input:function(t){t.target.composing||e.$set(a,"Count",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]}}])})],1),t("el-button-group",{staticClass:"btn-group-flex"},[t("el-tooltip",{attrs:{placement:"top"}},[t("template",{slot:"content"},[t("el-button-group",[t("el-button",{attrs:{icon:"el-icon-plus"},on:{click:function(t){return e.addLeConfig("0")}}},[e._v(e._s(e.$t("le.color_effect_monochrome")))]),t("el-button",{attrs:{icon:"el-icon-plus"},on:{click:function(t){return e.addLeConfig("1")}}},[e._v(e._s(e.$t("le.color_effect_rgb")))]),t("el-button",{attrs:{icon:"el-icon-plus"},on:{click:function(t){return e.addLeConfig("2")}}},[e._v(e._s(e.$t("le.color_effect_breathing")))])],1)],1),t("el-button",{attrs:{icon:"el-icon-plus"}})],2),t("el-button",{attrs:{icon:"el-icon-copy-document"},on:{click:e.copyLeConfig}}),t("el-button",{attrs:{icon:"el-icon-delete",type:"warning"},on:{click:e.deleteLeConfig}}),t("el-tooltip",{attrs:{placement:"top"}},[t("template",{slot:"content"},[e._v("\n                        "+e._s(e.$t("le.preview_animation_lighting_effects"))+"\n                      ")]),t("el-button",{attrs:{icon:"el-icon-kb-media"},on:{click:e.prePlayLE}})],2),t("el-tooltip",{attrs:{placement:"top"}},[t("template",{slot:"content"},[e._v("\n                    "+e._s(e.$t("common.cancel"))+"\n                  ")]),t("el-button",{attrs:{icon:"el-icon-close"},on:{click:e.cancelLeEdit}})],2),t("el-tooltip",{attrs:{placement:"top"}},[t("template",{slot:"content"},[e._v("\n                    "+e._s(e.$t("common.save"))+"\n                  ")]),t("el-button",{attrs:{icon:"el-icon-check"},on:{click:e.saveLeEdit}})],2)],1)],1)]),t("resizable-item",{attrs:{"base-width":"22%"}},[t("div",{staticClass:"col-3"},[t("Sketch",{ref:"",model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)]),t("div",{staticClass:"disablediv",class:{disablehide:!e.disableleediter}})],1)],1)],1)],1),t("el-aside",{staticClass:"subnav hidden-xs-only",attrs:{width:e.asideWidth,height:"100%"}},[t("cms-lelist",e._b({ref:"les",attrs:{height:e.lay_lelist_h,leseltype:"2",title:e.$t("le.le_lib_title")},on:{playLE:e.playLE,editLE:e.editLE}},"cms-lelist",e.les,!1))],1)],1)},n=[],r=(i(25276),i(54554),i(26099),i(38781),i(59848),i(66285)),l=i(11264),o=i(78449),s=i(32230),c=i(15440),d=document.getElementById("mainbox").offsetHeight,h=document.getElementById("mainbox").offsetWidth,f={data(){return{asideWidth:"270px",sketchPaneHeight:"",colors:{hex:"#904DB2"},cms:window.CMS,device:window.DEVICE,imageHeight:"0",mainh:d,mainw:h,layer:"layer1",layeroper:"",isshowbtn:!1,disableleediter:!0,colors:"#f00",lesel:DEVICE.leeditsel,leeditdata:{Name:"",GUID:"",Frames:[],LEConfigs:[]},leframesel:0,leconfigsel:-1,editleframetype:0,les:{lelist:window.CMS.les},device:{deviceid:window.CMS.deviceID,keymap:DEVICE.keymap,scale:h/24*18/1200},color:"green",iseditloading:!1,loadingframe:!1,loadingleconfig:!1,isediting:!1}},mounted(){var e=this;window.removeEventListener("resize",this.handleResize),window.onresize=function(){return function(){e.mainh=document.getElementById("mainbox").offsetHeight,e.mainw=document.getElementById("mainbox").offsetWidth}()},window.addEventListener("resize",this.onLightListResize),this.onLightListResize(),e.$refs.device.offsetleft=CMS.deviceConfig.ShowOffsetLeft?CMS.deviceConfig.ShowOffsetLeft:"0px",e.$refs.device.offsettop=CMS.deviceConfig.ShowOffsetTop?CMS.deviceConfig.ShowOffsetTop:"0px",setImmediate((function(){var t=e.$refs.les;null!==t&&void 0!==t&&t.leSelected&&t.leSelected(DEVICE.lesel||CMS.les[CMS.les.length-1].GUID)}))},destroyed(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("resize",this.onLightListResize)},watch:{mainh(e){this.mainh=e},mainw(e){this.mainw=e},leeditdata(e){},color(e,t){var i=this;e!=t&&i.leeditdata.LEConfigs[i.leconfigsel]&&(i.leeditdata.LEConfigs[i.leconfigsel].Color="string"==typeof e?e.replace("#","0x"):e.hex.toString().replace("#","0x"),i.renderLEConfig(i.leeditdata.LEConfigs[i.leconfigsel]))}},components:{"cms-device":r["default"],"cms-lelist":l["default"],[o["default"].name]:o["default"],ResizableView:s["default"],ResizableItem:c["default"]},computed:{lay_show_height:function(){return 78},lay_show_scale:function(){return this.mainw,CMS.deviceConfig.hasOwnProperty("ShowScalePlus")?this.mainw/24*18/1200+CMS.deviceConfig.ShowScalePlus:this.mainw/24*18/1200},lay_show_scale_plus:function(){return CMS.deviceConfig.hasOwnProperty("ShowScalePlus")?CMS.deviceConfig.ShowScalePlus:0},lay_show_h:function(){return this.mainh,1*this.mainh},lay_h_edit:function(){return this.mainh/5*2},lay_lelist_w:function(){return this.mainw,.24*this.mainw},lay_lelist_h:function(){return this.mainh,1*this.mainh-48-84+4},lay_le_edit_w:function(){return this.mainw,.76*this.mainw},lay_le_edit_h:function(){return this.mainh,.38*this.mainh},lay_le_edit_color_w:function(){},lay_le_edit_color_h:function(){return.36*this.mainh}},methods:{onLightListResize(){var e=window.innerWidth,t=window.innerHeight,i=e/t;t>800?(this.asideWidth="300px",i<1&&(this.asideWidth=t/2+"px")):this.asideWidth="270px"},handleResize(){var e=this;this.$nextTick((function(){var t=window.innerHeight,i=e.$refs.sketch.$el.getBoundingClientRect();e.$nextTick((function(){e.sketchPaneHeight=t-i.top-e.$refs.form.$el.offsetTop}))}))},updateValue:function(e){e.hex},changeImageHeight(e){this.imageHeight=e},selLeKeys:function(e,t){var i=this;if(0==i.editleframetype){if(0==e.length)1==t&&(i.leeditdata.Frames[i.leframesel].Data={});else for(var a=0;a<e.length;a++)i.leeditdata.Frames[i.leframesel].Data[e[a]]?0==t&&delete i.leeditdata.Frames[i.leframesel].Data[e[a]]:i.leeditdata.Frames[i.leframesel].Data[e[a]]="0xffffff";i.renderFrame(i.leeditdata.Frames[i.leframesel].Data)}else{if(0==e.length)1==t&&(i.leeditdata.LEConfigs[i.leconfigsel].Keys=[]);else for(a=0;a<e.length;a++){var n=i.leeditdata.LEConfigs[i.leconfigsel].Keys.indexOf(e[a]);n>=0?0==t&&i.leeditdata.LEConfigs[i.leconfigsel].Keys.splice(n,1):i.leeditdata.LEConfigs[i.leconfigsel].Keys.push(e[a])}i.renderLEConfig(i.leeditdata.LEConfigs[i.leconfigsel])}},colorChange:function(e){},rowClassName(e){var t=e.row,i=e.rowIndex;t.index=i},handleFrameChange:function(e,t,i){var a=this;a.editleframetype=0,a.stopLe(),a.leframesel=e.index,a.renderFrame(e.Data),e.Data},renderFrame:function(e){for(var t=0;t<DEVICE.keymap.length;t++){var i=DEVICE.keymap[t].LocationCode;i=i.toString(),e[i]||document.getElementById("le"+i)&&document.getElementById("le"+i).style.setProperty("background","#000")}for(var a in e){var n=document.getElementById("le"+a);n&&n.style.setProperty("background",window.toJS(e[a]))}},handleLEConfigChange:function(e,t,i){var a=this;a.editleframetype=1,a.stopLe(),a.leconfigsel=e.index,a.color=e.Color.toString().replace("0x","#"),a.renderLEConfig(e),e.Color},renderLEConfig:function(e){for(var t=0;t<DEVICE.keymap.length;t++){var i=DEVICE.keymap[t].LocationCode;i=i.toString(),document.getElementById("le"+i)&&document.getElementById("le"+i).style.setProperty("background","#000")}for(var a=0;a<e.Keys.length;a++){var n=e.Keys[a],r=document.getElementById("le"+n);r&&r.style.setProperty("background",e.Color.replace("0x","#"))}},initLeData:function(){},prePlayLE(){LeData=JSON.parse(JSON.stringify(this.leeditdata)),this.playLE()},playLE(){this.$refs.device.playLe()},stopLe(){DEVICE.timer&&(clearInterval(DEVICE.timer),DEVICE.timer=null);for(var e=0;e<DEVICE.keymap.length;e++){var t=DEVICE.keymap[e].LocationCode.toString();document.getElementById("le"+t)&&document.getElementById("le"+t).style.setProperty("background","#000")}},editLE(){var e=this;e.stopLe(),e.$refs.les.iseditloading=!0,e.disableleediter=!1,e.loadingframe=!0,e.loadingleconfig=!0,e.$refs.device.ismutiselect=!0,setTimeout((function(){if("undefined"!==typeof LeData)var t=JSON.parse(JSON.stringify(LeData));e.leeditdata=t,e.$nextTick((function(){e.loadingframe=!1,e.loadingleconfig=!1,e.isediting=!0,e.$refs.les.iseditloading=!1}))}),500)},addFrame(){var e=this,t=this,i={Name:"",Count:1,Data:{}};i.Name="frame"+t.leeditdata.Frames.length,t.leeditdata.Frames.push(i),this.$nextTick((function(){e.$refs.tb_frame.bodyWrapper.scrollTop=e.$refs.tb_frame.bodyWrapper.scrollHeight,e.$refs.tb_frame.setCurrentRow(t.leeditdata.Frames[t.leeditdata.Frames.length-1]),e.leframesel=t.leeditdata.Frames.length-1}))},copyFrame(){var e=this,t=this,i=t.leframesel;if(i<0)t.alertInfo(t.$t("le.no_leframe_select"),"warning",1e3);else{var a=JSON.parse(JSON.stringify(t.leeditdata.Frames[i]));a.Name="frame"+t.leeditdata.Frames.length,t.leeditdata.Frames.push(a),t.$nextTick((function(){t.$refs.tb_frame.bodyWrapper.scrollTop=t.$refs.tb_frame.bodyWrapper.scrollHeight,t.$refs.tb_frame.setCurrentRow(t.leeditdata.Frames[t.leeditdata.Frames.length-1]),e.leframesel=t.leeditdata.Frames.length-1}))}},deleteFrame(){var e=this,t=e.leframesel;if(e.leeditdata.Frames.length>1&&e.leeditdata.Frames.length-1==t&&(e.leframesel=e.leeditdata.Frames.length-2),1==e.leeditdata.Frames.length)return e.leframesel=0,e.$refs.tb_frame.setCurrentRow(e.leeditdata.Frames[0]),void e.alertInfo(e.$t("le.leframe_must_keep_at_least_one"),"warning",1e3);e.leframesel>=0&&e.leeditdata.Frames.splice(t,1),e.$nextTick((function(){e.leframesel>=0?e.$refs.tb_frame.setCurrentRow(e.leeditdata.Frames[e.leframesel]):e.alertInfo(e.$t("le.no_leframe_select"),"warning",1e3)}))},moveUpFrame(){var e=this,t=this,i=t.leframesel;if(i>0){var a=JSON.parse(JSON.stringify(t.leeditdata.Frames[i])),n=JSON.parse(JSON.stringify(t.leeditdata.Frames[i-1]));t.leeditdata.Frames[i-1].Name=a.Name,t.leeditdata.Frames[i-1].Count=a.Count,t.leeditdata.Frames[i-1].Data=a.Data,t.leeditdata.Frames[i].Name=n.Name,t.leeditdata.Frames[i].Count=n.Count,t.leeditdata.Frames[i].Data=n.Data,t.$nextTick((function(){t.leframesel=t.leframesel-1,t.$refs.tb_frame.setCurrentRow(t.leeditdata.Frames[i-1]),t.$refs.tb_frame.bodyWrapper.scrollTop=e.$refs.tb_frame.bodyWrapper.scrollHeight*((i-3)/t.leeditdata.Frames.length)}))}else t.alertInfo(t.$t("le.leframe_moved_top"),"warning",1e3)},moveDownFrame(){var e=this,t=this,i=t.leframesel;if(i<t.leeditdata.Frames.length-1){var a=JSON.parse(JSON.stringify(t.leeditdata.Frames[i])),n=JSON.parse(JSON.stringify(t.leeditdata.Frames[i+1]));t.leeditdata.Frames[i+1].Name=a.Name,t.leeditdata.Frames[i+1].Count=a.Count,t.leeditdata.Frames[i+1].Data=a.Data,t.leeditdata.Frames[i].Name=n.Name,t.leeditdata.Frames[i].Count=n.Count,t.leeditdata.Frames[i].Data=n.Data,t.$nextTick((function(){t.leframesel=t.leframesel+1,t.$refs.tb_frame.setCurrentRow(t.leeditdata.Frames[i+1]),t.leeditdata.Frames.length,t.$refs.tb_frame.bodyWrapper.scrollTop=e.$refs.tb_frame.bodyWrapper.scrollHeight*((i-1)/t.leeditdata.Frames.length)}))}else t.alertInfo(t.$t("le.leframe_moved_bottom"),"warning",1e3)},saveLeEdit(){for(var e=this,t=0;t<e.leeditdata.Frames.length;t++)e.leeditdata.Frames[t].hasOwnProperty("index")&&delete e.leeditdata.Frames[t].index;for(t=0;t<e.leeditdata.LEConfigs.length;t++)e.leeditdata.LEConfigs[t].hasOwnProperty("index")&&delete e.leeditdata.LEConfigs[t].index;JSON.stringify(this.leeditdata),window.writeLE(e.leeditdata.GUID,e.leeditdata,(function(t){e.alertInfo(e.$t("le.le_edit_save_success"),"success",1e3),e.isediting=!1,e.cancelLeEdit()}))},cancelLeEdit(){var e=this;e.$refs.device.ismutiselect=!1,e.disableleediter=!0,e.leeditdata.Name="",e.leeditdata.GUID="",e.leeditdata.Frames=[],e.leeditdata.LEConfigs=[],e.isediting=!1},addLeConfig(e){var t=this,i={Keys:[],Color:"0xff0000",Type:0,Count:1};0==e?i.Type=0:1==e?(i.Type=1,i.Count=30):2==e&&(i.Type=2,i.StayCount=1),t.leeditdata.LEConfigs.push(i),t.$nextTick((function(){t.$refs.tb_leconfig.bodyWrapper.scrollTop=t.$refs.tb_leconfig.bodyWrapper.scrollHeight,t.$refs.tb_leconfig.setCurrentRow(t.leeditdata.LEConfigs[t.leeditdata.LEConfigs.length-1]),t.leconfigsel=t.leeditdata.LEConfigs.length-1}))},copyLeConfig(){var e=this,t=this,i=t.leconfigsel;if(i<0)t.alertInfo(t.$t("le.no_leconfig_select"),"warning",1e3);else{var a=JSON.parse(JSON.stringify(t.leeditdata.LEConfigs[i]));t.leeditdata.LEConfigs.push(a),t.$nextTick((function(){t.$refs.tb_leconfig.bodyWrapper.scrollTop=t.$refs.tb_leconfig.bodyWrapper.scrollHeight,t.$refs.tb_leconfig.setCurrentRow(t.leeditdata.LEConfigs[t.leeditdata.LEConfigs.length-1]),e.leconfigsel=t.leeditdata.LEConfigs.length-1}))}},deleteLeConfig(){var e=this,t=e.leconfigsel;if(e.leeditdata.LEConfigs.length>1&&e.leeditdata.LEConfigs.length-1==t&&(e.leconfigsel=e.leeditdata.LEConfigs.length-2),1==e.leeditdata.LEConfigs.length)return e.leconfigsel=0,e.$refs.tb_leconfig.setCurrentRow(e.leeditdata.LEConfigs[0]),void e.alertInfo(e.$t("le.leconfig_must_keep_at_least_one"),"warning",1e3);e.leconfigsel>=0&&e.leeditdata.LEConfigs.splice(t,1),e.$nextTick((function(){e.leconfigsel>=0?e.$refs.tb_leconfig.setCurrentRow(e.leeditdata.LEConfigs[e.leconfigsel]):e.alertInfo(e.$t("le.no_leconfig_select"),"warning",1e3)}))},alertInfo:function(e,t,i){this.$notify({title:e,type:t,duration:i,position:"bottom-right"})}},beforeRouteEnter(e,t,i){CMS.isLoaded=!1,setTimeout((function(){i((function(e){setTimeout((function(){CMS.isLoaded=!0}),500)}))}),5)}},u=f,m=(i(5689),i(14486)),g=(0,m.A)(u,a,n,!1,null,"cc7503b8",null),p=g.exports},41288:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return d}});var a=function(){var e=this,t=e._self._c;return t("div",{class:{rv:"none"!==e.mode},style:[e.rect,e.direction],on:{mousemove:e.onResizableViewMouseMove,mouseup:e.onResizableViewMouseUp}},[e._t("default")],2)},n=[],r=(i(74423),i(25276),i(34782),i(26099),i(23500),i(82950)),l={name:"ResizableView",mixins:[r["default"]],props:{mode:{type:String,default:"horizontal",validator:function(e){var t=["none","horizontal","vertical"];return t.includes(e)}},useDefault:{type:Boolean,default:!0}},computed:{direction(){var e=null;return"horizontal"==this.mode?e="row":"vertical"==this.mode&&(e="column"),{flexDirection:e}}},data(){return{resizable:!1,source:void 0,target:void 0,frontItems:[],laterItems:[],mouseX:void 0,mouseY:void 0,targetWidth:0,targetHeight:0}},methods:{onSliderBarMouseDown(e,t){this.resizable=!0,this.mouseX=e.clientX,this.mouseY=e.clientY,this.source=t,this.target=t.$parent,this.targetWidth=this.target.clientWidth,this.targetHeight=this.target.clientHeight;var i=this.$children.indexOf(this.target);this.frontItems=this.$children.slice(0,i),this.laterItems=this.$children.slice(i+1)},onResizableViewMouseMove(e){if(this.resizable){var t=e.clientX-this.mouseX,i=e.clientY-this.mouseY,a=this.source.mode;if(a.indexOf("-")>0)return"left-top"===a?(this.target.width=this.targetWidth-t,this.target.height=this.targetHeight-i):"right-top"===a?(this.target.width=this.targetWidth+t,this.target.height=this.targetHeight-i):"right-bottom"===a?(this.target.width=this.targetWidth+t,this.target.height=this.targetHeight+i):"left-bottom"===a&&(this.target.width=this.targetWidth-t,this.target.height=this.targetHeight+i),void this.$emit("itemresize",this.target.clientWidth,this.target.clientHeight,this.target);var n=0,r=0,l=0,o=0;this.frontItems.forEach((function(e){n+=e.clientWidth,r+=e.clientHeight,l+=e.minWidth,o+=e.minHeight}));var s=0,c=0,d=0,h=0;if(this.laterItems.forEach((function(e){s+=e.clientWidth,c+=e.clientHeight,d+=e.minWidth,h+=e.minHeight})),"top"===a&&["none","vertical"].includes(this.mode)){var f=this.targetHeight-i,u=this.clientHeight-c-o;if(u>f&&f>this.source.clientHeight){this.target.height=f;var m=u-f;this.frontItems.forEach((function(e){var t=m*(e.clientHeight-e.minHeight)/(r-o);e.height=t+e.minHeight}))}}else if("bottom"===a&&["none","vertical"].includes(this.mode)){var g=this.targetHeight+i,p=this.clientHeight-r-h;if(p>g){this.target.height=g;var v=p-g;this.laterItems.forEach((function(e){var t=v*(e.clientHeight-e.minHeight)/(c-h);e.height=t+e.minHeight}))}}else if("right"===a&&["none","horizontal"].includes(this.mode)){var b=this.targetWidth+t,C=this.clientWidth-n-d;if(C>b){this.target.width=b;var _=C-b;this.laterItems.forEach((function(e){var t=_*(e.clientWidth-e.minWidth)/(s-d);e.width=t+e.minWidth}))}}else if("left"===a&&["none","horizontal"].includes(this.mode)){var w=this.targetWidth-t,x=this.clientWidth-s-l;if(x>w&&w>this.source.clientWidth){this.target.width=w;var y=x-w;this.frontItems.forEach((function(e){var t=y*(e.clientWidth-e.minWidth)/(n-l);e.width=t+e.minWidth}))}}this.$emit("itemresize",this.target.clientWidth,this.target.clientHeight,this.target)}},onResizableViewMouseUp(){this.resizable=!1}},mounted(){for(var e=this.$children,t=0;t<e.length;t++){var i=e[t];i.$on("sliderbarmousedown",this.onSliderBarMouseDown),i.$on("sliderareamousedown",this.onSliderBarMouseDown),this.useDefault&&"vertical"===this.mode&&"right"===i.sliderBar&&(i.sliderBarItems="bottom",i.$refs.contentView.rightSliderSize=0)}"horizontal"===this.mode&&this.useDefault&&(e[0].leftSliderSize=0,e[0].$refs.contentView.leftSliderSize=0,e[e.length-1].rightSliderSize=0,e[e.length-1].$refs.contentView.rightSliderSize=0),"vertical"===this.mode&&this.useDefault&&(e[0].topSliderSize=0,e[0].$refs.contentView.topSliderSize=0,e[e.length-1].bottomSliderSize=0,e[e.length-1].$refs.contentView.bottomSliderSize=0)}},o=l,s=(i(29675),i(14486)),c=(0,s.A)(o,a,n,!1,null,null,null),d=c.exports},78449:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return p}});var a=function(){var e=this,t=e._self._c;return t("div",{class:["vc-sketch",e.disableAlpha?"vc-sketch__disable-alpha":""],attrs:{role:"application","aria-label":"Sketch color picker"}},[t("div",{staticClass:"vc-sketch-saturation-wrap"},[t("saturation",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),t("div",{staticClass:"vc-sketch-controls"},[t("div",{staticClass:"vc-sketch-sliders"},[t("div",{staticClass:"vc-sketch-hue-wrap"},[t("hue",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e.disableAlpha?e._e():t("div",{staticClass:"vc-sketch-alpha-wrap"},[t("alpha",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1)]),t("div",{staticClass:"vc-sketch-color-wrap"},[t("div",{staticClass:"vc-sketch-active-color",style:{background:e.activeColor},attrs:{"aria-label":`Current color is ${e.activeColor}`}}),t("checkboard")],1)]),e.disableFields?e._e():t("div",{staticClass:"vc-sketch-field"},[t("div",{staticClass:"vc-sketch-field--double"},[t("ed-in",{attrs:{label:"hex",value:e.hex},on:{change:e.inputChange}})],1),t("div",{staticClass:"vc-sketch-field--single"},[t("ed-in",{attrs:{label:"r",value:e.colors.rgba.r},on:{change:e.inputChange}})],1),t("div",{staticClass:"vc-sketch-field--single"},[t("ed-in",{attrs:{label:"g",value:e.colors.rgba.g},on:{change:e.inputChange}})],1),t("div",{staticClass:"vc-sketch-field--single"},[t("ed-in",{attrs:{label:"b",value:e.colors.rgba.b},on:{change:e.inputChange}})],1),e.disableAlpha?e._e():t("div",{staticClass:"vc-sketch-field--single"},[t("ed-in",{attrs:{label:"a",value:e.colors.a,"arrow-offset":.01,max:1},on:{change:e.inputChange}})],1)]),t("div",{staticClass:"vc-sketch-presets",attrs:{role:"group","aria-label":"A color preset, pick one to set as current color"}},[e._l(e.presetColors,(function(i){return[e.isTransparent(i)?t("div",{key:i,staticClass:"vc-sketch-presets-color",attrs:{"aria-label":"Color:"+i},on:{click:function(t){return e.handlePreset(i)}}},[t("checkboard")],1):t("div",{key:i,staticClass:"vc-sketch-presets-color",style:{background:i},attrs:{"aria-label":"Color:"+i},on:{click:function(t){return e.handlePreset(i)}}})]}))],2)])},n=[],r=(i(27495),i(25440),i(43389)),l=i(19790),o=i(85944),s=i(63188),c=i(89854),d=i(35777),h=["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF","rgba(0,0,0,0)"],f={name:"Sketch",mixins:[r.A],components:{saturation:o["default"],hue:s["default"],alpha:c["default"],"ed-in":l["default"],checkboard:d["default"]},props:{presetColors:{type:Array,default(){return h}},disableAlpha:{type:Boolean,default:!1},disableFields:{type:Boolean,default:!1},minPercent:{type:Number,default:10},defaultPercent:{type:Number,default:50}},computed:{hex(){var e;return e=this.colors.a<1?this.colors.hex8:this.colors.hex,e.replace("#","")},activeColor(){var e=this.colors.rgba;return"rgba("+[e.r,e.g,e.b,e.a].join(",")+")"}},methods:{onMouseUp(e){this.dragging=!1},handlePreset(e){this.colorChange({hex:e,source:"hex"})},childChange(e){this.colorChange(e)},inputChange(e){e&&(e.hex?this.isValidHex(e.hex)&&this.colorChange({hex:e.hex,source:"hex"}):(e.r||e.g||e.b||e.a)&&this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}))}}},u=f,m=(i(70570),i(14486)),g=(0,m.A)(u,a,n,!1,null,null,null),p=g.exports},5689:function(e,t,i){var a=i(2972);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var n=i(70534).A;n("74daef14",a,!0,{})},29675:function(e,t,i){var a=i(95582);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var n=i(70534).A;n("6d42e5f6",a,!0,{})},70570:function(e,t,i){var a=i(77091);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var n=i(70534).A;n("5defa742",a,!0,{})},6763:function(e){"use strict";e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},79472:function(e,t,i){"use strict";var a=i(24475),n=i(18745),r=i(94901),l=i(6763),o=i(79392),s=i(67680),c=i(22812),d=a.Function,h=/MSIE .\./.test(o)||l&&function(){var e=a.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}();e.exports=function(e,t){var i=t?2:1;return h?function(a,l){var o=c(arguments.length,1)>i,h=r(a)?a:d(a),f=o?s(arguments,i):[],u=o?function(){n(h,this,f)}:h;return t?e(u,l):e(u)}:e}},86368:function(e,t,i){"use strict";var a=i(46518),n=i(24475),r=i(59225).clear;a({global:!0,bind:!0,enumerable:!0,forced:n.clearImmediate!==r},{clearImmediate:r})},59848:function(e,t,i){"use strict";i(86368),i(29309)},29309:function(e,t,i){"use strict";var a=i(46518),n=i(24475),r=i(59225).set,l=i(79472),o=n.setImmediate?l(r,!1):r;a({global:!0,bind:!0,enumerable:!0,forced:n.setImmediate!==o},{setImmediate:o})}}]);